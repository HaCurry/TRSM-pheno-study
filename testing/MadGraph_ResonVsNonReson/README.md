# TABLE OF CONTENTS IN THIS DIRECTORY

This directory produces the ratio of the physical process and the resonant process 
$\sigma(gg \to h _{1} h _{2} )/\sigma(gg \to h _{3} \to h _{1} h _{2} )$ using 
`MadGraph5_aMC@NLO`.

## calculating scripts

`twoD_mgConfigure.py`: creates the directory structure and necessary files
to calculate the ratios $\sigma(gg \to h_{1} h_{2})/\sigma(gg \to h_{3} \to h_{1} h_{2})$
using the script twoD_mgCrossSections.py with HTCondor. It produces the directory 
structure in the path `pathExecOutputParent` where a directory is created for each 
mass point with the name e.g. `X170_S30`, the choice of mass points can be modified by the user
if by modifying the list `desiredPoints` found in the script `twoD_mgConfigure.py`, note, however,
that the point must exist in the Atlas limits (see `../../Atlas2023Limits.tsv`)
In each mass point directory, a directory named `runNameExec` in the script will be found.
Here the input file for `MadGraph5_aMC@NLO` where the model parameters are specified according to
BP2 and BP3 and all output from `MadGraph5_aMC@NLO` can be found. OBS: Make sure to have a copy of the 
TRSM model in each mass point directory (https://gitlab.com/apapaefs/twosinglet), this is easily eachieved
by typing `git clone https://gitlab.com/apapaefs/twosinglet` and make sure it is named
`twosinglet-master` in each mass point directory. 
      Additionally, the path `pathCondorSubAndExec` is where the condor executable and submit 
file will be found. The user can additionally specify the `runNameExec` which will be the name 
of the directory inside each mass point directory for, the the number of events `MadGraph5_aMC@NLO` 
should calculate, the HTCondor JobFlavour and where the condor submit and executable files should 
be written out, but these additional paths and values can be left as is as well.

Your directory structure should look something like this (`pathExecOutputParent` and `runNameExec`
will depend on what you have set the variables to).

```
├── pathExecOutputParent
│   ├── MG5_aMC_v3.5.3.tar.gz
│   ├── X170_S30
│   │   ├── runNameExec
│   │   ├── twosinglet-master
│   │   └── twosinglet-master.tar.gz
.   .
.   .
.   .
│   ├── X900_S400
│   │   ├── runNameExec
│   │   ├── twosinglet-master
│   │   └── twosinglet-master.tar.gz
│   └──dataIds.txt
```

where inside the directory `runNameExec` you should find a `.tsv` file with the model parameters.

`twoD_mgConfigureCompareScannerS.py`: similar to `twoD_mgConfigure.py` but instead
creates the directory structure and condor submit and executable files for
calculating the ratio of resonant processes between `ScannerS` and `MadGraph5_aMC@NLO`.
The paths and variables defined in `twoD_mgConfigure.py` should be the same here. This
script will probably be reworked at some point in the future. The directory structure will look
the same as in `twoD_mgConfigure.py`.

`twosinglet_scalarcouplings/twoD_mgCrossSections.py`: This is the python3 script HTCondor runs
in the HTCondor executable file generated by twoD_mgConfigure.py. This script runs `MadGraph5_aMC@NLO`
for each mass point specified in `twoD_mgConfigure.py`. Obs! the files in `twosinglet_scalarcouplings`
are important for generating the `run_cat.dat` for `MadGraph5_aMC@NLO`, so please do not modify or
remove anything from that directory!

All remaining calculating scripts are not important.

## plotting scripts

`twoD_mgPlot.py`: plots the ratio of the full process and the resonant process. Note, for this script to plot
anything make sure to have followed the steps in `twoD_mgConfigure.py`.

`twoD_mgPlotCompareScannerS.py`: plots the ratio of resonant cross sections as calculated by `ScannerS` and
`MadGraph5_aMC@NLO`. Note, for this script to plot anything make sure to have followed the steps in 
`twoD_mgConfigureCompareScannerS.py`.

All remaining plotting scripts are not important.


